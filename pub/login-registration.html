<!-- Modal -->
<div class="modal fade" id="authModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content" ng-controller="authController as auth">
            <div class="modal-header">
                <h4 class="modal-title">{{auth.showLogin ? 'Login' : 'Registration'}}</h4>
            </div>
            <div class="modal-body">
                <div ng-show="auth.showLogin">
                    <form class="form-horizontal" name="loginForm">
                        <div class="alert alert-danger" role="alert" ng-show="loginForm.$submitted && loginForm.invalidPair">Name/password pair is invalid</div>
                        <div class="form-group">
                            <label for="authLoginName" class="col-sm-2 control-label">Name</label>
                            <div class="col-sm-10">
                                <input type="name" class="form-control" id="authLoginName" name="lName" placeholder="Name" ng-model="loginUser.name" required="">
                                <div ng-show="loginForm.$submitted || loginForm.lName.$touched">
                                    <small class="help-block error" ng-show="loginForm.lName.$error.required">Name is required</small>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="authLoginPass" class="col-sm-2 control-label">Password</label>
                            <div class="col-sm-10">
                                <input type="password" class="form-control" id="authLoginPass" name="lPassword" placeholder="Password" ng-model="loginUser.password" required="">
                                <div ng-show="loginForm.$submitted || loginForm.lPassword.$touched">
                                    <small class="help-block error" ng-show="loginForm.lPassword.$error.required">Password is required</small>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div ng-hide="auth.showLogin">
                    <form class="form-horizontal" name="regForm" novalidate>
                        <div class="form-group">
                            <label for="authRegName" class="col-sm-3 control-label">Name</label>
                            <div class="col-sm-9">
                                <input type="name" class="form-control" id="authRegName" name="rName" placeholder="Name" ng-model="regUser.name" required=""
                                data-user-name-chars="" data-minlength="3" maxlength=60" data-user-name-available="">
                                <div ng-show="regForm.$submitted || regForm.rName.$touched">
                                    <small class="help-block error" ng-show="regForm.rName.$error.required">Name is required</small>
                                    <small class="help-block error" ng-show="regForm.rName.$error.userNameAvailable">The name is already in use</small>
                                    <small class="help-block error" ng-show="regForm.rName.$error.invalidUserNameChars">Name can contain only latin letters, digits and sign "_"</small>
                                    <small class="help-block error" ng-show="regForm.rName.$error.minlength">Name should be at least 3 charachters</small>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="authRegPass" class="col-sm-3 control-label">Password</label>
                            <div class="col-sm-9">
                                <input type="password" class="form-control" id="authRegPass" name="rPassword" placeholder="Password" ng-model="regUser.password" required="" data-minlength="3">
                                <div ng-show="regForm.$submitted || regForm.rPassword.$touched">
                                    <small class="help-block error" ng-show="regForm.rPassword.$error.required">Password is required</small>
                                    <small class="help-block error" ng-show="regForm.rPassword.$error.minlength">Password should be at least 3 charachters</small>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="authRegPass2" class="col-sm-3 control-label">Confirm password</label>
                            <div class="col-sm-9">
                                <input type="password" class="form-control" id="authRegPass2" name="rPassword2" placeholder="Repeat password" ng-model="regUser.password2" required="" data-minlength="3" data-compare-to="regUser.password">
                                <div ng-show="regForm.$submitted || regForm.rPassword2.$touched">
                                    <small class="help-block error" ng-show="regForm.rPassword2.$error.required">Confirm password is required</small>
                                    <small class="help-block error" ng-show="regForm.rPassword2.$error.minlength">Confirm password should be at least 3 charachters</small>
                                    <small class="help-block error" ng-show="regForm.rPassword2.$error.compareTo">Confirm password should be the same as Password</small>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer" ng-show="auth.showLogin">
                <button type="button" class="btn btn-primary" ng-click="auth.runLogin(loginUser)">Login</button>
                <button type="button" class="btn btn-link" ng-click="auth.showRegistration()">Register</button>
            </div>
            <div class="modal-footer" ng-hide="auth.showLogin">
                <button type="button" class="btn btn-primary" ng-click="auth.register(regUser)">Register</button>
                <button type="button" class="btn btn-link" ng-click="auth.showLoginForm()">Login</button>
            </div>
        </div>
    </div>
</div>
